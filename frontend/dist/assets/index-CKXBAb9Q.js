var Ke=Object.defineProperty;var Je=(e,t,n)=>t in e?Ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ue=(e,t,n)=>Je(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function H(){}const Xe=e=>e;function Me(e,t){for(const n in t)e[n]=t[n];return e}function He(e){return e()}function Te(){return Object.create(null)}function re(e){e.forEach(He)}function ze(e){return typeof e=="function"}function Ue(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Ze(e){return Object.keys(e).length===0}function xe(e,...t){if(e==null){for(const s of t)s(void 0);return H}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function et(e,t,n){e.$$.on_destroy.push(xe(t,n))}const Be=typeof window<"u";let tt=Be?()=>window.performance.now():()=>Date.now(),Ge=Be?e=>requestAnimationFrame(e):H;const J=new Set;function Qe(e){J.forEach(t=>{t.c(e)||(J.delete(t),t.f())}),J.size!==0&&Ge(Qe)}function nt(e){let t;return J.size===0&&Ge(Qe),{promise:new Promise(n=>{J.add(t={c:e,f:n})}),abort(){J.delete(t)}}}function i(e,t){e.appendChild(t)}function Y(e,t,n){e.insertBefore(t,n||null)}function j(e){e.parentNode&&e.parentNode.removeChild(e)}function st(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function C(e){return document.createTextNode(e)}function S(){return C(" ")}function te(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function a(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ot(e){return Array.from(e.childNodes)}function N(e,t){t=""+t,e.data!==t&&(e.data=t)}let ee;function x(e){ee=e}function Ve(){if(!ee)throw new Error("Function called outside component initialization");return ee}function it(e){Ve().$$.on_mount.push(e)}function lt(e){Ve().$$.on_destroy.push(e)}const K=[],Pe=[];let X=[];const Oe=[],rt=Promise.resolve();let de=!1;function at(){de||(de=!0,rt.then(We))}function pe(e){X.push(e)}const fe=new Set;let V=0;function We(){if(V!==0)return;const e=ee;do{try{for(;V<K.length;){const t=K[V];V++,x(t),ct(t.$$)}}catch(t){throw K.length=0,V=0,t}for(x(null),K.length=0,V=0;Pe.length;)Pe.pop()();for(let t=0;t<X.length;t+=1){const n=X[t];fe.has(n)||(fe.add(n),n())}X.length=0}while(K.length);for(;Oe.length;)Oe.pop()();de=!1,fe.clear(),x(e)}function ct(e){if(e.fragment!==null){e.update(),re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(pe)}}function ut(e){const t=[],n=[];X.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),X=t}const ft=new Set;function dt(e,t){e&&e.i&&(ft.delete(e),e.i(t))}function Le(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function pt(e,t,n){const{fragment:s,after_update:o}=e.$$;s&&s.m(t,n),pe(()=>{const r=e.$$.on_mount.map(He).filter(ze);e.$$.on_destroy?e.$$.on_destroy.push(...r):re(r),e.$$.on_mount=[]}),o.forEach(pe)}function ht(e,t){const n=e.$$;n.fragment!==null&&(ut(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function mt(e,t){e.$$.dirty[0]===-1&&(K.push(e),at(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function yt(e,t,n,s,o,r,l=null,c=[-1]){const u=ee;x(e);const f=e.$$={fragment:null,ctx:[],props:r,update:H,not_equal:o,bound:Te(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Te(),dirty:c,skip_bound:!1,root:t.target||u.$$.root};l&&l(f.root);let b=!1;if(f.ctx=n?n(e,t.props||{},(p,A,...m)=>{const y=m.length?m[0]:A;return f.ctx&&o(f.ctx[p],f.ctx[p]=y)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](y),b&&mt(e,p)),A}):[],f.update(),b=!0,re(f.before_update),f.fragment=s?s(f.ctx):!1,t.target){if(t.hydrate){const p=ot(t.target);f.fragment&&f.fragment.l(p),p.forEach(j)}else f.fragment&&f.fragment.c();t.intro&&dt(e.$$.fragment),pt(e,t.target,t.anchor),We()}x(u)}class gt{constructor(){ue(this,"$$");ue(this,"$$set")}$destroy(){ht(this,1),this.$destroy=H}$on(t,n){if(!ze(n))return H;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const o=s.indexOf(n);o!==-1&&s.splice(o,1)}}$set(t){this.$$set&&!Ze(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const bt="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(bt);const W=[];function _t(e,t=H){let n;const s=new Set;function o(c){if(Ue(e,c)&&(e=c,n)){const u=!W.length;for(const f of s)f[1](),W.push(f,e);if(u){for(let f=0;f<W.length;f+=2)W[f][0](W[f+1]);W.length=0}}}function r(c){o(c(e))}function l(c,u=H){const f=[c,u];return s.add(f),s.size===1&&(n=t(o,r)||H),c(e),()=>{s.delete(f),s.size===0&&n&&(n(),n=null)}}return{set:o,update:r,subscribe:l}}function $e(e){return Object.prototype.toString.call(e)==="[object Date]"}function vt(e){const t=e-1;return t*t*t+1}function he(e,t){if(e===t||e!==e)return()=>e;const n=typeof e;if(n!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const s=t.map((o,r)=>he(e[r],o));return o=>s.map(r=>r(o))}if(n==="object"){if(!e||!t)throw new Error("Object cannot be null");if($e(e)&&$e(t)){e=e.getTime(),t=t.getTime();const r=t-e;return l=>new Date(e+l*r)}const s=Object.keys(t),o={};return s.forEach(r=>{o[r]=he(e[r],t[r])}),r=>{const l={};return s.forEach(c=>{l[c]=o[c](r)}),l}}if(n==="number"){const s=t-e;return o=>e+o*s}throw new Error(`Cannot interpolate ${n} values`)}function kt(e,t={}){const n=_t(e);let s,o=e;function r(l,c){if(e==null)return n.set(e=l),Promise.resolve();o=l;let u=s,f=!1,{delay:b=0,duration:p=400,easing:A=Xe,interpolate:m=he}=Me(Me({},t),c);if(p===0)return u&&(u.abort(),u=null),n.set(e=o),Promise.resolve();const y=tt()+b;let g;return s=nt(L=>{if(L<y)return!0;f||(g=m(e,l),typeof p=="function"&&(p=p(e,l)),f=!0),u&&(u.abort(),u=null);const M=L-y;return M>p?(n.set(e=l),!1):(n.set(e=g(A(M/p))),!0)}),s.promise}return{set:r,update:(l,c)=>r(l(o,e),c),subscribe:n.subscribe}}const Ce=[{key:"mood",icon:"fas fa-smile",text:"How are you feeling?",options:["Happy","Sad","Anxious","Calm","Excited","Angry"]},{key:"energy",icon:"fas fa-battery-three-quarters",text:"Energy Level?",options:["High Energy","Medium Energy","Low Energy","Exhausted"]},{key:"stress",icon:"fas fa-heartbeat",text:"Stress Level?",options:["No Stress","Mild Stress","Moderate Stress","High Stress"]},{key:"productivity",icon:"fas fa-chart-line",text:"Productivity Today?",options:["Very Productive","Productive","Average","Unproductive"]},{key:"sleep",icon:"fas fa-bed",text:"How was your sleep?",options:["Excellent Sleep","Good Sleep","Poor Sleep","No Sleep"]},{key:"social",icon:"fas fa-users",text:"Social Interaction?",options:["Very Social","Somewhat Social","Alone by Choice","Lonely"]},{key:"health",icon:"fas fa-heart",text:"Physical Health?",options:["Excellent","Good","Fair","Poor"]},{key:"motivation",icon:"fas fa-fire",text:"Motivation Level?",options:["Highly Motivated","Motivated","Neutral","Unmotivated"]},{key:"focus",icon:"fas fa-bullseye",text:"Focus Today?",options:["Very Focused","Focused","Distracted","Unfocused"]},{key:"overall",icon:"fas fa-star",text:"Overall Day Rating?",options:["Amazing Day","Good Day","Okay Day","Bad Day"]}];function Ie(e,t,n){const s=e.slice();return s[27]=t[n],s}function Ne(e){let t,n,s,o,r,l,c,u=e[0]+1+"",f,b,p,A;return{c(){t=d("div"),n=d("div"),s=d("div"),r=S(),l=d("div"),c=d("span"),f=C(u),b=C(" of "),p=d("span"),A=C(e[3]),a(s,"class","progress-fill"),a(s,"style",o=`width: ${e[15]}%`),a(n,"class","progress-bar"),a(l,"class","progress-text"),a(t,"class","progress-container")},m(m,y){Y(m,t,y),i(t,n),i(n,s),i(t,r),i(t,l),i(l,c),i(c,f),i(l,b),i(l,p),i(p,A)},p(m,y){y&32768&&o!==(o=`width: ${m[15]}%`)&&a(s,"style",o),y&1&&u!==(u=m[0]+1+"")&&N(f,u),y&8&&N(A,m[3])},d(m){m&&j(t)}}}function je(e){let t,n,s,o,r,l,c=e[4].text+"",u,f,b,p,A,m,y=Le(e[4].options),g=[];for(let h=0;h<y.length;h+=1)g[h]=De(Ie(e,y,h));function L(h,T){return h[14]?wt:St}let M=L(e),O=M(e);return{c(){t=d("section"),n=d("div"),s=d("div"),o=d("i"),l=S(),u=C(c),f=S(),b=d("div");for(let h=0;h<g.length;h+=1)g[h].c();A=S(),m=d("div"),O.c(),a(o,"class",r=e[4].icon),a(s,"class","question"),a(s,"role","heading"),a(s,"aria-level","2"),a(b,"class","options"),a(b,"role","radiogroup"),a(b,"aria-label",p=e[4].text),a(n,"class","question-group"),a(m,"class","navigation-buttons"),a(t,"class","form-card")},m(h,T){Y(h,t,T),i(t,n),i(n,s),i(s,o),i(s,l),i(s,u),i(n,f),i(n,b);for(let _=0;_<g.length;_+=1)g[_]&&g[_].m(b,null);i(t,A),i(t,m),O.m(m,null)},p(h,T){if(T&16&&r!==(r=h[4].icon)&&a(o,"class",r),T&16&&c!==(c=h[4].text+"")&&N(u,c),T&262162){y=Le(h[4].options);let _;for(_=0;_<y.length;_+=1){const E=Ie(h,y,_);g[_]?g[_].p(E,T):(g[_]=De(E),g[_].c(),g[_].m(b,null))}for(;_<g.length;_+=1)g[_].d(1);g.length=y.length}T&16&&p!==(p=h[4].text)&&a(b,"aria-label",p),M===(M=L(h))&&O?O.p(h,T):(O.d(1),O=M(h),O&&(O.c(),O.m(m,null)))},d(h){h&&j(t),st(g,h),O.d()}}}function De(e){let t,n=e[27]+"",s,o,r,l,c,u;function f(){return e[23](e[27])}return{c(){t=d("button"),s=C(n),o=S(),a(t,"type","button"),a(t,"role","radio"),a(t,"aria-checked",r=e[1][e[4].key]===e[27]),a(t,"class",l=`option-btn ${e[1][e[4].key]===e[27]?"selected":""}`)},m(b,p){Y(b,t,p),i(t,s),i(t,o),c||(u=te(t,"click",f),c=!0)},p(b,p){e=b,p&16&&n!==(n=e[27]+"")&&N(s,n),p&18&&r!==(r=e[1][e[4].key]===e[27])&&a(t,"aria-checked",r),p&18&&l!==(l=`option-btn ${e[1][e[4].key]===e[27]?"selected":""}`)&&a(t,"class",l)},d(b){b&&j(t),c=!1,u()}}}function wt(e){let t,n,s,o;function r(u,f){return u[7]?At:Et}let l=r(e),c=l(e);return{c(){t=d("button"),c.c(),a(t,"class","nav-btn"),a(t,"type","button"),t.disabled=n=!e[10]||e[7]},m(u,f){Y(u,t,f),c.m(t,null),s||(o=te(t,"click",e[21]),s=!0)},p(u,f){l!==(l=r(u))&&(c.d(1),c=l(u),c&&(c.c(),c.m(t,null))),f&1152&&n!==(n=!u[10]||u[7])&&(t.disabled=n)},d(u){u&&j(t),c.d(),s=!1,o()}}}function St(e){let t,n,s,o,r,l;return{c(){t=d("button"),n=d("i"),s=C(`\r
            Next Question`),a(n,"class","fas fa-arrow-right"),a(t,"class","nav-btn"),a(t,"type","button"),t.disabled=o=!e[10]},m(c,u){Y(c,t,u),i(t,n),i(t,s),r||(l=te(t,"click",e[19]),r=!0)},p(c,u){u&1024&&o!==(o=!c[10])&&(t.disabled=o)},d(c){c&&j(t),r=!1,l()}}}function Et(e){let t,n;return{c(){t=d("i"),n=C(`\r
              Submit & See Results`),a(t,"class","fas fa-paper-plane")},m(s,o){Y(s,t,o),Y(s,n,o)},d(s){s&&(j(t),j(n))}}}function At(e){let t,n;return{c(){t=d("i"),n=C(`\r
              Processing...`),a(t,"class","fas fa-spinner fa-spin")},m(s,o){Y(s,t,o),Y(s,n,o)},d(s){s&&(j(t),j(n))}}}function Ye(e){var ve,ke,we;let t,n,s=(((ve=e[12])==null?void 0:ve.title)||"Your Results Are In!")+"",o,r,l,c,u,f,b,p,A,m,y,g,L=((ke=e[12])==null?void 0:ke.message)+"",M,O,h,T,_=((we=e[12])==null?void 0:we.insight)+"",E,$,w,P,v,I=(e[2].exactMatches||0)+"",B,ne,k,z,q,U,F=(e[2].partialMatches||0)+"",Z,me,se,ye,G,oe,ie=(e[2].total||0)+"",ae,ge,le,be,Q,ce,_e;return{c(){t=d("section"),n=d("h2"),o=C(s),r=S(),l=d("div"),c=d("div"),u=d("div"),f=C(e[11]),b=C("%"),A=S(),m=d("div"),m.textContent="feel like you",y=S(),g=d("div"),M=C(L),O=S(),h=d("div"),T=d("p"),E=C(_),$=S(),w=d("div"),P=d("div"),v=d("span"),B=C(I),ne=S(),k=d("span"),k.textContent="Exact Matches",z=S(),q=d("div"),U=d("span"),Z=C(F),me=S(),se=d("span"),se.textContent="Similar Matches",ye=S(),G=d("div"),oe=d("span"),ae=C(ie),ge=S(),le=d("span"),le.textContent="Total Responses",be=S(),Q=d("button"),Q.innerHTML=`<i class="fas fa-refresh"></i>
        Try Again`,a(u,"class","similarity-percentage"),a(c,"class","similarity-circle"),a(c,"style",p=`--percentage: ${e[13]}deg`),a(m,"class","circle-label"),a(g,"class","similarity-text"),a(h,"class","similarity-message"),a(l,"class","similarity-display"),a(v,"class","stat-number"),a(k,"class","stat-label"),a(P,"class","stat-card"),a(U,"class","stat-number"),a(se,"class","stat-label"),a(q,"class","stat-card"),a(oe,"class","stat-number"),a(le,"class","stat-label"),a(G,"class","stat-card"),a(w,"class","results-stats"),a(Q,"class","new-response-btn"),a(Q,"type","button"),a(t,"class","results-page")},m(D,R){Y(D,t,R),i(t,n),i(n,o),i(t,r),i(t,l),i(l,c),i(c,u),i(u,f),i(u,b),i(l,A),i(l,m),i(l,y),i(l,g),i(g,M),i(l,O),i(l,h),i(h,T),i(T,E),i(t,$),i(t,w),i(w,P),i(P,v),i(v,B),i(P,ne),i(P,k),i(w,z),i(w,q),i(q,U),i(U,Z),i(q,me),i(q,se),i(w,ye),i(w,G),i(G,oe),i(oe,ae),i(G,ge),i(G,le),i(t,be),i(t,Q),ce||(_e=te(Q,"click",e[20]),ce=!0)},p(D,R){var Se,Ee,Ae;R&4096&&s!==(s=(((Se=D[12])==null?void 0:Se.title)||"Your Results Are In!")+"")&&N(o,s),R&2048&&N(f,D[11]),R&8192&&p!==(p=`--percentage: ${D[13]}deg`)&&a(c,"style",p),R&4096&&L!==(L=((Ee=D[12])==null?void 0:Ee.message)+"")&&N(M,L),R&4096&&_!==(_=((Ae=D[12])==null?void 0:Ae.insight)+"")&&N(E,_),R&4&&I!==(I=(D[2].exactMatches||0)+"")&&N(B,I),R&4&&F!==(F=(D[2].partialMatches||0)+"")&&N(Z,F),R&4&&ie!==(ie=(D[2].total||0)+"")&&N(ae,ie)},d(D){D&&j(t),ce=!1,_e()}}}function qe(e){let t,n,s,o,r,l,c;return{c(){t=d("div"),n=d("i"),o=S(),r=d("span"),l=C(e[8]),a(n,"class",s=`fas ${Re(e[9])}`),a(t,"class",c=`notification notification-${e[9]}`)},m(u,f){Y(u,t,f),i(t,n),i(t,o),i(t,r),i(r,l)},p(u,f){f&512&&s!==(s=`fas ${Re(u[9])}`)&&a(n,"class",s),f&256&&N(l,u[8]),f&512&&c!==(c=`notification notification-${u[9]}`)&&a(t,"class",c)},d(u){u&&j(t)}}}function Mt(e){let t,n,s,o,r,l,c,u,f,b,p,A=e[5]==="dark"?"Dark Mode":"Light Mode",m,y,g,L,M,O,h,T,_,E=!e[6]&&Ne(e),$=!e[6]&&e[4]&&je(e),w=e[6]&&e[2]&&Ye(e),P=e[8]&&qe(e);return{c(){t=d("main"),n=d("div"),s=d("button"),o=d("i"),r=S(),l=d("i"),c=S(),u=d("div"),b=S(),p=d("span"),m=C(A),y=S(),g=d("div"),g.innerHTML='<h1>WT Website</h1> <p class="lead">Answer 10 quick questions and discover how many people feel exactly like you today.</p>',L=S(),E&&E.c(),M=S(),$&&$.c(),O=S(),w&&w.c(),h=S(),P&&P.c(),a(o,"class","fas fa-sun sun-icon"),a(l,"class","fas fa-moon moon-icon"),a(u,"class","toggle-slider"),a(s,"class","theme-btn"),a(s,"type","button"),a(s,"aria-label","Toggle theme"),a(s,"aria-pressed",f=e[5]==="dark"),a(p,"class","theme-label"),a(n,"class","theme-toggle"),a(g,"class","header"),a(t,"class","container")},m(v,I){Y(v,t,I),i(t,n),i(n,s),i(s,o),i(s,r),i(s,l),i(s,c),i(s,u),i(n,b),i(n,p),i(p,m),i(t,y),i(t,g),i(t,L),E&&E.m(t,null),i(t,M),$&&$.m(t,null),i(t,O),w&&w.m(t,null),i(t,h),P&&P.m(t,null),T||(_=te(s,"click",e[17]),T=!0)},p(v,[I]){I&32&&f!==(f=v[5]==="dark")&&a(s,"aria-pressed",f),I&32&&A!==(A=v[5]==="dark"?"Dark Mode":"Light Mode")&&N(m,A),v[6]?E&&(E.d(1),E=null):E?E.p(v,I):(E=Ne(v),E.c(),E.m(t,M)),!v[6]&&v[4]?$?$.p(v,I):($=je(v),$.c(),$.m(t,O)):$&&($.d(1),$=null),v[6]&&v[2]?w?w.p(v,I):(w=Ye(v),w.c(),w.m(t,h)):w&&(w.d(1),w=null),v[8]?P?P.p(v,I):(P=qe(v),P.c(),P.m(t,null)):P&&(P.d(1),P=null)},i:H,o:H,d(v){v&&j(t),E&&E.d(),$&&$.d(),w&&w.d(),P&&P.d(),T=!1,_()}}}const Fe="http://localhost:5000/api";function Tt(e,t){const n=e.exactMatches??0,s=e.partialMatches??0,o=e.total??0;let r="Your Results Are In!",l="";n>0?(r="🎯 Perfect Match Found!",l=`Amazing! ${n} ${n===1?"person feels":"people feel"} exactly the same way as you across all 10 dimensions. You're definitely not alone in how you're experiencing today.`):s>0?(r="🤝 Great Similarity!",l=`You have ${s} ${s===1?"person who shares":"people who share"} most of your feelings today. While not identical, you're in very similar emotional territory.`):o>0?(r="⭐ You're Unique!",l="Your combination of feelings today is completely unique! Sometimes being different is exactly what makes you special. Your perspective adds valuable diversity to our community."):(r="🌟 First to Share!",l="You're the very first person to share your feelings today! Your courage to be vulnerable paves the way for others to connect and share their experiences.");const c=Pt(t.mood);return{title:r,message:l,insight:c}}function Pt(e){return{Happy:"Your positive energy is contagious! Keep spreading those good vibes.",Sad:"It's okay to feel sad sometimes. Tomorrow is a new opportunity for joy.",Anxious:"Take deep breaths. You're stronger than your worries.",Calm:"Your inner peace is a superpower in today's busy world.",Excited:"Your enthusiasm lights up the room! Channel that energy wisely.",Angry:"Strong emotions show you care deeply. Find healthy ways to express them."}[e]||"Every feeling is valid and part of the human experience."}function Re(e){const t={success:"fa-check-circle",error:"fa-exclamation-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"};return t[e]||t.info}function Ot(e,t,n){let s,o,r,l,c,u,f,b,p,A="dark",m=0,y={},g=!1,L=!1,M=null,O=null,h="info",T;const _=kt(0,{duration:800,easing:vt});et(e,_,k=>n(22,p=k)),it(()=>{const k=typeof localStorage<"u"?localStorage.getItem("theme"):null;E(k||"dark")}),lt(()=>{T&&clearTimeout(T)});function E(k){n(5,A=k),typeof document<"u"&&document.body.setAttribute("data-theme",k),typeof localStorage<"u"&&localStorage.setItem("theme",k)}function $(){E(A==="dark"?"light":"dark")}function w(k){o&&n(1,y={...y,[o.key]:k})}function P(){m<s-1&&l&&n(0,m+=1)}function v(){n(0,m=0),n(1,y={}),n(6,g=!1),n(2,M=null),n(7,L=!1),_.set(0,{duration:0}),n(8,O=null)}async function I(){if(!(!l||L)){n(7,L=!0);try{const k=await fetch(`${Fe}/responses`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!k.ok){const F=await k.text();throw new Error(`Server error (${k.status}): ${F}`)}await k.json();const z=new URL(`${Fe}/summary`);Object.entries(y).forEach(([F,Z])=>{z.searchParams.set(F,Z)});const q=await fetch(z);if(!q.ok){const F=await q.text();throw new Error(`Summary error (${q.status}): ${F}`)}const U=await q.json();n(2,M=U),n(6,g=!0),_.set(U.overallSimilarity||0),B("Responses submitted successfully!","success")}catch(k){console.error("Submission error:",k);const z=k.message.includes("Failed to fetch")?"Cannot connect to server. Please make sure the backend is running.":k.message;B(z||"Failed to submit. Please try again.","error")}finally{n(7,L=!1)}}}function B(k,z="info"){n(8,O=k),n(9,h=z),T&&clearTimeout(T),T=setTimeout(()=>{n(8,O=null)},4e3)}const ne=k=>w(k);return e.$$.update=()=>{e.$$.dirty&1&&n(4,o=Ce[m]),e.$$.dirty&9&&n(15,r=(m+1)/s*100),e.$$.dirty&18&&n(10,l=o?!!y[o.key]:!1),e.$$.dirty&9&&n(14,c=m===s-1),e.$$.dirty&4&&n(13,u=M?(M.overallSimilarity||0)/100*360:0),e.$$.dirty&6&&n(12,f=M?Tt(M,y):null),e.$$.dirty&4194304&&n(11,b=Math.round(p))},n(3,s=Ce.length),[m,y,M,s,o,A,g,L,O,h,l,b,f,u,c,r,_,$,w,P,v,I,p,ne]}class Lt extends gt{constructor(t){super(),yt(this,t,Ot,Mt,Ue,{})}}new Lt({target:document.getElementById("app")});
